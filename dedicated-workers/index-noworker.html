<!DOCTYPE HTML>
<html>
 <head>
  <meta charset="utf-8">
  <title>Dedicated Worker example: primer number calculation</title>
 </head>
 <body>
   <p>The highest prime number discovered so far is: <output id="result"></output></p>
   
   <script>
     function postMessage(result) {
       document.getElementById('result').textContent = result;
     }

     var n = 1;
     search: while (true) {
       n += 1;
       for (var i = 2; i <= Math.sqrt(n); i += 1) {
         if (n % i == 0) {
           continue search;
	 }
       }
       // found a prime!
       postMessage(n);
     }
 </script>   

 </body>
</html>
